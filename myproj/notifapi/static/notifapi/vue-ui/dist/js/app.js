(function(){"use strict";var t={9482:function(t,e,o){var n=o(9199);const i={id:"app"},c={id:"wrapper"};function r(t,e,o,r,a,s){const l=(0,n.up)("NotificationBell");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",c,[(0,n.Wm)(l)])])}const a={class:"fancy-container"},s={href:"#",class:"position-relative"},l=(0,n._)("i",{class:"fa fa-bell _gray",style:{"font-size":"24px"}},null,-1),u=(0,n._)("span",{class:"my-text btnLnk"},"Visits",-1),f={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger _reduced"};function p(t,e,o,i,c,r){return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("a",s,[l,u,(0,n._)("span",f,(0,n.zw)(r.notificationCount),1)])])}var d={data(){return{notifications:[],webSocket:null}},computed:{notificationCount(){return this.notifications.filter((t=>!t.fields.is_read)).length}},mounted(){this.establishWebSocketConnection()},methods:{async establishWebSocketConnection(){this.webSocket=new WebSocket("ws://127.0.0.1:8001/websocket/ws/notifications/","echo-protocol"),this.webSocket.onopen=()=>{console.log("WebSocket connection established!"),this.updateNotificationCount()},this.webSocket.onmessage=t=>{console.log("Message received:",t.data);const e=JSON.parse(t.data);console.log("Received type:",e.type),"notification.update"===e.type?this.notifications=e.is_read_values.map((t=>({fields:{is_read:t}}))):console.log("Notification count was not updated!")},this.webSocket.onclose=()=>{console.log("WebSocket connection closed.")}},updateNotificationCount(){console.log("updateNotificationCount called!"),this.webSocket.send(JSON.stringify({type:"update.notification.count"}))}}},b=o(89);const v=(0,b.Z)(d,[["render",p]]);var h=v,g={components:{NotificationBell:h}};const y=(0,b.Z)(g,[["render",r]]);var m=y;(0,n.ri)(m).mount("#app")}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var c=e[n]={exports:{}};return t[n].call(c.exports,c,c.exports,o),c.exports}o.m=t,function(){var t=[];o.O=function(e,n,i,c){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],i=t[u][1],c=t[u][2];for(var a=!0,s=0;s<n.length;s++)(!1&c||r>=c)&&Object.keys(o.O).every((function(t){return o.O[t](n[s])}))?n.splice(s--,1):(a=!1,c<r&&(r=c));if(a){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}c=c||0;for(var u=t.length;u>0&&t[u-1][2]>c;u--)t[u]=t[u-1];t[u]=[n,i,c]}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,c,r=n[0],a=n[1],s=n[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(s)var u=s(o)}for(e&&e(n);l<r.length;l++)c=r[l],o.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return o.O(u)},n=self["webpackChunkvue_autocomplete_component_example"]=self["webpackChunkvue_autocomplete_component_example"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(9482)}));n=o.O(n)})();
//# sourceMappingURL=app.js.map